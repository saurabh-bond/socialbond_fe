(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[39],{9039:(e,t,s)=>{"use strict";s.r(t),s.d(t,{PaymentModule:()=>h});var o=s(8583),r=s(3679),n=s(3423),a=s(8319),i=s(2340),c=s(7716),m=s(1841);const d=i.N.apiUrl+"/payment";let l=(()=>{class e{constructor(e){this.http=e}getOrderDetails(e,t){return this.http.post(`${d}/createOrder`,{amount:100*e,currency:t})}savePaymentResponse(e,t){return e.success=t,this.http.post(`${d}/saveResponse`,e)}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(m.eN))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=s(9699);function u(e,t){if(1&e&&(c.TgZ(0,"div",15),c._UZ(1,"i",39),c.TgZ(2,"span",40),c._uU(3),c.qZA(),c.qZA()),2&e){const e=t.$implicit;c.xp6(3),c.hij(" ",e," ")}}function g(e,t){if(1&e&&(c.TgZ(0,"div",41),c._UZ(1,"input",42),c.TgZ(2,"label",43),c._uU(3),c.ALo(4,"uppercase"),c.qZA(),c.qZA()),2&e){const e=t.$implicit;c.xp6(1),c.Q6J("id",e)("value",e),c.xp6(1),c.Q6J("for",e),c.xp6(1),c.hij(" ",c.lcZ(4,4,e)," ")}}function Z(e,t){1&e&&c._UZ(0,"i",44)}function f(e,t){1&e&&c._UZ(0,"i",45)}let y=(()=>{class e{constructor(e,t){this.payment=e,this.toastr=t,this.purchaseInstructions=["Minimum Purchase 100 credits = Rs 100","Credits Amount, 1 Credit=1 INR","Purchased amount will be shown in your credits","Use valid and real information about you","Don't use Proxies or VPN","Payments can be refused , please check your payment status before you open a ticket.","Purchases are final and we cannot refund credits back to your UPI, debit or credit card"],this.currencies=["inr","usd"],this.message="Payment not started",this.paymentOptions1={key:i.N.rzpKey,amount:"",currency:"",name:"SOCIOBOND",description:"Test Transaction",image:"https://example.com/your_logo",order_id:"",handler:this.paymentSuccessHandler,prefill:{name:"Saurabh Kumar",email:"talktosaurabhkr@gmail.com",contact:"8340248023",method:""},notes:{address:"Razorpay Corporate Office"},theme:{color:"#3399cc"},modal:{ondismiss:function(){console.log("Checkout form closed")}}}}ngOnInit(){this.submitBtn=document.getElementById("submitBtn"),this.paymentForm=new r.cw({currency:new r.NI("inr"),amount:new r.NI(100,[r.kI.required,r.kI.min(100)])})}onSubmit(){this.paymentForm.valid&&(this.submitBtn.setAttribute("data-kt-indicator","on"),this.initiatePayment()),console.log(this.paymentForm)}initiatePayment(){this.payment.getOrderDetails(this.paymentForm.value.amount,this.paymentForm.value.currency).subscribe(e=>{let t=e.data;this.paymentOptions1.amount=t.amount,this.paymentOptions1.currency=t.currency,this.paymentOptions1.order_id=t.id,this.doPayment()})}paymentSuccessHandler(e){this.payment.savePaymentResponse(e,!0).subscribe(e=>{console.log("Details saved in db...",e)}),console.log("Success Handler Response",e),console.log("Response",e)}doPayment(){console.log("payment options --",this.paymentOptions1);var e=new Razorpay(this.paymentOptions1);e.open(),e.on("payment.failed",function(e){alert("Failure Handler"),alert(e.error.code),alert(e.error.description),alert(e.error.source),alert(e.error.step),alert(e.error.reason),alert(e.error.metadata.order_id),alert(e.error.metadata.payment_id)}),this.submitBtn.removeAttribute("data-kt-indicator")}onPaymentSuccess(e){console.log("Payment is successful ...asdf...asdf")}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(l),c.Y36(p._W))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-payment"]],hostBindings:function(e,t){1&e&&c.NdJ("payment.success",function(e){return t.onPaymentSuccess(e)},!1,c.Jf7)},decls:57,vars:5,consts:[[1,"card"],[1,"card-body","p-10","p-lg-15"],[1,"mb-13"],[1,"row","mb-12"],[1,"col-md-6","pe-md-10","mb-10","mb-md-0"],[1,"text-gray-800","fw-bolder","mb-4"],["class","d-flex mt-3",4,"ngFor","ngForOf"],[1,"col-md-6","ps-md-10","card-rounded","bg-primary","bg-opacity-5","p-10","mb-15"],[1,"m-0"],[3,"formGroup","ngSubmit"],[1,"separator","my-5"],[1,"row","fv-row","mb-7"],[1,"col-md-4","text-md-end"],[1,"fs-6","fw-bold","form-label","mt-3"],[1,"col-md-8"],[1,"d-flex","mt-3"],["class","form-check form-check-custom form-check-solid me-5",4,"ngFor","ngForOf"],[1,"required"],["ngbTooltip","Enter amount",1,"fas","fa-exclamation-circle","ms-1","fs-7"],[1,"col-md-8","position-relative"],["class","fas fa-rupee-sign position-absolute top-50 translate-middle-y ms-3",4,"ngIf"],["class","fas fa-dollar-sign position-absolute top-50 translate-middle-y ms-3",4,"ngIf"],["type","number","formControlName","amount","value","100","min","100",1,"form-control","ps-10"],[1,"row"],[1,"col-md-9","offset-md-3"],[1,"separator","mb-6"],[1,"d-flex","justify-content-end"],["type","reset","data-kt-ecommerce-settings-type","cancel",1,"btn","btn-light","me-3"],["href","https://pmny.in/IIejUcBxUQF8",2,"width","135px","background-color","#1065B7","text-align","center","font-weight","800","padding","11px 0px","color","white","font-size","12px","display","inline-block","text-decoration","none"],[1,"card","mb-4","bg-light","text-center"],[1,"card-body","py-12"],["href","#",1,"mx-4"],["src","assets/media/svg/brand-logos/facebook-4.svg","alt","",1,"h-30px","my-2"],["src","assets/media/svg/brand-logos/instagram-2-1.svg","alt","",1,"h-30px","my-2"],["src","assets/media/svg/brand-logos/github.svg","alt","",1,"h-30px","my-2"],["src","assets/media/svg/brand-logos/behance.svg","alt","",1,"h-30px","my-2"],["src","assets/media/svg/brand-logos/pinterest-p.svg","alt","",1,"h-30px","my-2"],["src","assets/media/svg/brand-logos/twitter.svg","alt","",1,"h-30px","my-2"],["src","assets/media/svg/brand-logos/dribbble-icon-1.svg","alt","",1,"h-30px","my-2"],[1,"fa","fa-genderless","text-primary","fs-1"],[1,"fw-mormal","ps-3"],[1,"form-check","form-check-custom","form-check-solid","me-5"],["type","radio","formControlName","currency",1,"form-check-input",3,"id","value"],[1,"form-check-label",3,"for"],[1,"fas","fa-rupee-sign","position-absolute","top-50","translate-middle-y","ms-3"],[1,"fas","fa-dollar-sign","position-absolute","top-50","translate-middle-y","ms-3"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"h2",5),c._uU(6,"Please read before purchasing"),c.qZA(),c.YNc(7,u,4,1,"div",6),c.qZA(),c.TgZ(8,"div",7),c.TgZ(9,"h2",5),c._uU(10,"Buy Credits"),c.qZA(),c.TgZ(11,"div",8),c.TgZ(12,"form",9),c.NdJ("ngSubmit",function(){return t.onSubmit()}),c._UZ(13,"div",10),c.TgZ(14,"div",11),c.TgZ(15,"div",12),c.TgZ(16,"label",13),c.TgZ(17,"span"),c._uU(18,"Currency"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(19,"div",14),c.TgZ(20,"div",15),c.YNc(21,g,5,6,"div",16),c.qZA(),c.qZA(),c.qZA(),c.TgZ(22,"div",11),c.TgZ(23,"div",12),c.TgZ(24,"label",13),c.TgZ(25,"span",17),c._uU(26,"Amount"),c.qZA(),c._UZ(27,"i",18),c.qZA(),c.qZA(),c.TgZ(28,"div",19),c.YNc(29,Z,1,0,"i",20),c.YNc(30,f,1,0,"i",21),c._UZ(31,"input",22),c.qZA(),c.qZA(),c.TgZ(32,"div",23),c.TgZ(33,"div",24),c._UZ(34,"div",25),c.TgZ(35,"div",26),c.TgZ(36,"button",27),c._uU(37,"Cancel"),c.qZA(),c.TgZ(38,"div"),c.TgZ(39,"a",28),c._uU(40," Pay Now "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(41,"div",29),c.TgZ(42,"div",30),c.TgZ(43,"a",31),c._UZ(44,"img",32),c.qZA(),c.TgZ(45,"a",31),c._UZ(46,"img",33),c.qZA(),c.TgZ(47,"a",31),c._UZ(48,"img",34),c.qZA(),c.TgZ(49,"a",31),c._UZ(50,"img",35),c.qZA(),c.TgZ(51,"a",31),c._UZ(52,"img",36),c.qZA(),c.TgZ(53,"a",31),c._UZ(54,"img",37),c.qZA(),c.TgZ(55,"a",31),c._UZ(56,"img",38),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(7),c.Q6J("ngForOf",t.purchaseInstructions),c.xp6(5),c.Q6J("formGroup",t.paymentForm),c.xp6(9),c.Q6J("ngForOf",t.currencies),c.xp6(8),c.Q6J("ngIf","inr"===t.paymentForm.get("currency").value),c.xp6(1),c.Q6J("ngIf","usd"===t.paymentForm.get("currency").value))},directives:[o.sg,r._Y,r.JL,r.sg,a._L,o.O5,r.wV,r.qQ,r.Fj,r.JJ,r.u,r._],pipes:[o.gd],styles:[""]}),e})(),h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[o.ez,a.HK,r.UX,n.Bz.forChild([{path:"",component:y}])]]}),e})()}}]);